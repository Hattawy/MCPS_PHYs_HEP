#########################################################################
# Author: Jingbo Wang
# mail: wjingbo@anl.gov
# edited by: Mohammad Hattawy (mohammad.hattawy@gmail.com) on July 3rd, 2017
#########################################################################
Documentation on how to use the photodetector analysis program

______________________________________________________________________________________________________________________
Installation
1. Install ROOT_5.34 on your linux/MasOS machine
2. Create a new folder Rootdev/ in any directory on your machine.
3. Creat sub-folders lib/, include/ and bin/ in Rootdev/
4. In .bashrc, add the following lines:
	#ROOT setting
	export ROOTDEV=ROODEVTDIR/ # Replace ROOTDEVDIR by your path
	export PATH=$ROOTDEV/bin/:$PATH
	export LD_LIBRARY_PATH=$ROOTDEV/lib:$LD_LIBRARY_PATH
5. Start a new terminal
6. Copy the lappd analysis code mcpanalysis_v3/ to your machine
7. Go to folder mcpanalysis_v3
8. Run install.sh
Now the installation is done. 
______________________________________________________________________________________________________________________
Analysis
1. Create an analysis folder, for example mcpanalysis_v2/doAnalysis/. It doesn't necessarily have to be inside mcpanalysis_v2/. Any directory is fine.
2. Copy the analysis parameter file to you analysis folder
	cp ~/mcpanalysis_v3/paf/paf_agilent ~/doAnalysis/.
	cp ~/mcpanalysis_v3/analysis/SplineFitDB.rdb ~/doAnalysis/.
3. To convert the scope binary data to .txt file, type command as: 
	AgilentConv.sh ~/HEPdata/Run696_2016-04-27_tube62_2016-04-27_mpe_3150V/ run696
	The first argument is path of the the data file folder. 
	The 2nd argument is the user defined output root file name (no extetion).
	The converted file will appear in the data file folder. The name is run696.txt for instance.

4. To analyze the data, type command:
	lappd ../DATA/Run1024_2016-09-29_tube87_HVscan_spe_2900V/run1024.txt 
	This command converts run1024.txt to run1024.txt.root and put the new file in the same directory
	lappd ~/HEPdata/Run696_2016-04-27_tube62_2016-04-27_mpe_3150V/run696.txt run696.root paf_agilent 1000
	The 1st argument is the path of the converted .txt file.
	The 2nd argument is the path of the output .root file.
	The 3rd argument is the analysis parameter file name
	The 4th argument is the number of events that the user wants to analyze.
	All the information is store in the output .root file. The user can view the tree structure and do furthur analysis.
______________________________________________________________________________________________________________________	
Make some plots
The example macros are in folder /mcpanalysis_v2/macros. The user can copy them to your own folder.
To plot the timing histogram:
        root 'draw_timing.C("../doAnalysis/run696.root")' 
        type .q to quit root
	
